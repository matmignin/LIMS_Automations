<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.17.0.final using JasperReports Library version 6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="CertificateOfAnalysis" language="groovy" pageWidth="612" pageHeight="792" whenNoDataType="NoDataSection" columnWidth="572" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isSummaryWithPageHeaderAndFooter="true" uuid="a503fc4b-3d0d-4afc-930b-adfe302a6e09">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Vitaquest Dev"/>
	<style name="Table 1_TH" mode="Opaque" backcolor="#EEEEEE">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
			<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
			<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
			<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
		</box>
	</style>
	<style name="Table 1_CH" mode="Transparent" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.0" lineColor="#000000"/>
			<leftPen lineWidth="0.0" lineColor="#000000"/>
			<bottomPen lineWidth="0.0" lineColor="#000000"/>
			<rightPen lineWidth="0.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_TD" mode="Transparent" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
			<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
			<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
			<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
		</box>
	</style>
	<style name="Table 2_TH" mode="Opaque" backcolor="#EEEEEE">
		<box>
			<pen lineWidth="0.5" lineColor="#EEEEEE"/>
			<topPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<leftPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<bottomPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<rightPen lineWidth="0.5" lineColor="#EEEEEE"/>
		</box>
	</style>
	<style name="Table 2_CH" mode="Opaque" backcolor="#DDDDDD">
		<box>
			<pen lineWidth="0.5" lineColor="#EEEEEE"/>
			<topPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<leftPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<bottomPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<rightPen lineWidth="0.5" lineColor="#EEEEEE"/>
		</box>
	</style>
	<style name="Table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#EEEEEE"/>
			<topPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<leftPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<bottomPen lineWidth="0.5" lineColor="#EEEEEE"/>
			<rightPen lineWidth="0.5" lineColor="#EEEEEE"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#EEEEEE"/>
		</conditionalStyle>
	</style>
	<style name="MicPendingResult">
		<conditionalStyle>
			<conditionExpression><![CDATA[$F{RESULT}=="pending"]]></conditionExpression>
			<style forecolor="#CC0033" isBold="true"/>
		</conditionalStyle>
	</style>
	<style name="IngPendingResult">
		<conditionalStyle>
			<conditionExpression><![CDATA[$F{RESULT}=="pending"]]></conditionExpression>
			<style forecolor="#CC0033" isBold="true"/>
		</conditionalStyle>
	</style>
	<style name="Table_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#AAAAAA"/>
			<topPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<leftPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<bottomPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<rightPen lineWidth="0.5" lineColor="#AAAAAA"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#AAAAAA"/>
			<topPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<leftPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<bottomPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<rightPen lineWidth="0.5" lineColor="#AAAAAA"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#AAAAAA"/>
			<topPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<leftPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<bottomPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<rightPen lineWidth="0.5" lineColor="#AAAAAA"/>
		</box>
	</style>
	<style name="Table 3_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#AAAAAA"/>
			<topPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<leftPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<bottomPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<rightPen lineWidth="0.5" lineColor="#AAAAAA"/>
		</box>
	</style>
	<style name="Table 3_CH" mode="Opaque" backcolor="#DDDDDD">
		<box>
			<pen lineWidth="0.5" lineColor="#AAAAAA"/>
			<topPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<leftPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<bottomPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<rightPen lineWidth="0.5" lineColor="#AAAAAA"/>
		</box>
	</style>
	<style name="Table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#AAAAAA"/>
			<topPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<leftPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<bottomPen lineWidth="0.5" lineColor="#AAAAAA"/>
			<rightPen lineWidth="0.5" lineColor="#AAAAAA"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#EEEEEE"/>
		</conditionalStyle>
	</style>
	<style name="Table 4_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 4_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 4_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Ingredient" uuid="24963582-050d-46fb-9566-205bc1381f0c">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ELNPROD"/>
		<parameter name="INGBATCHNUMBER" class="java.lang.String"/>
		<parameter name="LOCAL_TIME_NAME" class="java.lang.String"/>
		<parameter name="DateTimeScriptlet_ING" class="scriptlets.DateTimeScriptlet">
			<parameterDescription><![CDATA[]]></parameterDescription>
		</parameter>
		<queryString language="SQL">
			<![CDATA[SELECT i.generic2 AS ingredient_group,
  i.ingredientid,
  CASE
WHEN UPPER(i.ingredientid) LIKE 'MULTI-PART INGREDIENT LIST%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(i2.ingredientid) LIKE 'MULTI%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT A%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT A%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT B%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT B%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT C%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT C%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT D%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT D%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT E%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT E%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT F%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT F%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT G%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT G%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT H%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT H%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT I%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT I%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT J%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT J%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT K%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT K%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT L%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT L%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT M%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT M%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT N%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT N%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT O%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT O%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT P%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT P%' AND i2.formulationguid = i.formulationguid)
WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT Q%' THEN
(SELECT LISTAGG(i2.description) WITHIN GROUP (ORDER BY i2.ingredientid) FROM ingredient i2 WHERE UPPER(ingredientid) LIKE 'GENERIC INGREDIENT Q%' AND i2.formulationguid = i.formulationguid)
        ELSE i.description
      END AS ingredient,
  i.generic1                                     AS label_claim,
  CASE 
    WHEN tr.resulttype = 'LIST' AND (tr.resultvaluation <> 'SKIP LOT' OR tr.resultvaluation IS NULL) THEN
      DECODE(t.requirement, NULL, trr.listvalue, t.requirement)
    WHEN tr.resulttype <> 'LIST' AND (tr.resultvaluation <> 'SKIP LOT' OR tr.resultvaluation IS NULL) THEN
      DECODE(tr.resulttype,NULL,NULL,tr.requirement) 
    ELSE
      ''
  END AS specification_range,
  CASE
    WHEN tr.resulttype = 'NUMERIC' AND tr.status           = 70 AND (tr.resultvaluation <> 'SKIP LOT' OR tr.resultvaluation IS NULL) THEN 
      tr.prefix||TRIM(TO_CHAR(REGEXP_SUBSTR(REPLACE(tr.numericalresulttext,tr.prefix,''),'^\d+'),'999,999,999'))||
      CASE
        WHEN INSTR(tr.numericalresulttext,'.') > 0
        THEN SUBSTR(tr.numericalresulttext,INSTR(tr.numericalresulttext,'.'))
      END
      ||DECODE(tr.unit,NULL,NULL,' '||tr.unit)
    WHEN tr.resulttype IN ('LIST','TEXT')
    AND tr.status           = 70
    AND (tr.resultvaluation <> 'SKIP LOT' OR tr.resultvaluation IS NULL)
    THEN tr.textresult
      ||DECODE(tr.unit,NULL,NULL,' '
      ||tr.unit)
    WHEN tr.status          = 10
    AND (tr.resultvaluation <> 'SKIP LOT' OR tr.resultvaluation IS NULL)
    THEN 'pending'
    ELSE
      CASE
        WHEN UPPER(i.ingredientid) LIKE 'INGREDIENT NOTE%' OR UPPER(i.ingredientid) LIKE 'MULTI-PART INGREDIENT LIST%' AND i.generic3 IS NULL THEN ''
        WHEN UPPER(i.ingredientid) LIKE 'GENERIC INGREDIENT%' AND i.generic3 IS NULL THEN 'Not Tested'
        WHEN i.generic3 IS NOT NULL THEN i.generic3
        ELSE 'Not Tested'
      END
  END            AS result,
  tr.resultdate  AS test_date,
  CASE 
    WHEN (tr.resultvaluation <> 'SKIP LOT' OR tr.resultvaluation IS NULL) THEN
      sm.description 
    ELSE
      ''
    END AS method,
  tr.generic01   AS notebook_ref,
  tr.status,
  (SELECT dv.description
  FROM domainvalue dv
  WHERE UPPER(dv.domainid) = 'REPORT PARAMETERS'
  AND UPPER(dv.value)      = 'DATE FORMAT'
  AND dv.deletion          = 'N'
  ) AS report_date_format,
  tr.resulttype,
  tr.resultguid
FROM
(SELECT sampleguid, formulationid FROM (
SELECT ps.sampleguid, ps.formulationid,
CASE 
  WHEN ps.configurationid = 'I, Analytical' THEN 1
  WHEN ps.configurationid = 'CT, Analytical' THEN 2
  WHEN ps.configurationid = 'I, Physical' THEN 3
  WHEN ps.configurationid = 'CT, Physical' THEN 4
  ELSE 100
END sample_order
FROM physicalsample ps
WHERE ps.batchnumber = $P{INGBATCHNUMBER} AND ps.deletion = 'N'
ORDER BY sample_order
)
WHERE ROWNUM = 1
) psi
JOIN formulation f ON f.formulationid = psi.formulationid AND f.deletion = 'N' 
JOIN ingredient i ON i.formulationguid = f.formulationguid AND i.deletion = 'N'
LEFT JOIN testresult tr ON tr.sampleguid = psi.sampleguid AND UPPER(tr.resultid) = UPPER(i.ingredientid) AND tr.deletion = 'N' AND tr.flagisfinalresult = 'Y'
LEFT JOIN test t ON t.testguid  = tr.testguid AND t.deletion = 'N' 
LEFT JOIN smmethod sm ON sm.methodid   = t.methodid AND sm.versionno = t.methodversionno AND sm.deletion  = 'N'
LEFT JOIN testresultrequirement trr ON trr.resultguid = tr.resultguid AND trr.valuationcode = 1
WHERE NOT(UPPER(ingredientid) LIKE 'MULTI%' AND SUBSTR(ingredientid,-1,1) <> 1) AND NOT(UPPER(ingredientid) LIKE 'GENERIC INGREDIENT%' AND SUBSTR(ingredientid,-1,1) <> 1)
ORDER BY i.position]]>
		</queryString>
		<field name="INGREDIENT_GROUP" class="java.lang.String"/>
		<field name="INGREDIENTID" class="java.lang.String"/>
		<field name="INGREDIENT" class="java.lang.String"/>
		<field name="LABEL_CLAIM" class="java.lang.String"/>
		<field name="SPECIFICATION_RANGE" class="java.lang.String"/>
		<field name="RESULT" class="java.lang.String"/>
		<field name="TEST_DATE" class="java.lang.String"/>
		<field name="METHOD" class="java.lang.String"/>
		<field name="NOTEBOOK_REF" class="java.lang.String"/>
		<field name="STATUS" class="java.math.BigDecimal"/>
		<field name="REPORT_DATE_FORMAT" class="java.lang.String"/>
		<group name="INGREDIENT_GROUP">
			<groupExpression><![CDATA[$F{INGREDIENT_GROUP}]]></groupExpression>
		</group>
	</subDataset>
	<subDataset name="Micro" uuid="c1c6aae9-9480-4f66-a759-c30295aaaeb1">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ELNPROD"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="MICBATCHNUMBER" class="java.lang.String"/>
		<parameter name="LOCAL_TIME_NAME" class="java.lang.String"/>
		<parameter name="DateTimeScriptlet_MIC" class="scriptlets.DateTimeScriptlet"/>
		<parameter name="MICRO_FOOTNOTE" class="java.lang.String"/>
		<parameter name="MICPKGLOT" class="java.lang.String"/>
		<parameter name="MICBLISTERLOT" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[SELECT tr.resultid AS testing,
 CASE 
    WHEN tr.resulttype = 'LIST' THEN
      DECODE(t.requirement, NULL, trr.listvalue, t.requirement)
    ELSE
      DECODE(tr.resulttype,NULL,NULL,tr.requirement) 
  END AS specification_range,
  CASE 
  WHEN tr.resulttype = 'NUMERIC' AND tr.status = 70 THEN
      DECODE(tr.numericalresult,0,'Absent'||DECODE(tr.unit,NULL,NULL,'/'||tr.unit),tr.prefix||TRIM(TO_CHAR(REGEXP_SUBSTR(REPLACE(tr.numericalresulttext,tr.prefix,''),'^\d+'),'999,999,999'))|| CASE WHEN INSTR(tr.numericalresulttext,'.') > 0 THEN SUBSTR(tr.numericalresulttext,INSTR(tr.numericalresulttext,'.')) END ||DECODE(tr.unit,NULL,NULL,' '||tr.unit))
  WHEN tr.resulttype IN ('LIST','TEXT') AND tr.status = 70 THEN
    tr.textresult||DECODE(tr.unit,NULL,NULL,' '||tr.unit)
  WHEN tr.status = 10 THEN
    'pending'
  ELSE 
    'Not Tested'
  END AS result, 
  TO_CHAR(TO_DATE(SUBSTR(tr.resultdate,1,8),'YYYYMMDD'),'DD-MON-YYYY') AS test_date,
 sm.description AS method,
  tr.generic01 AS notebook_ref,
  (SELECT dv.description FROM domainvalue dv WHERE UPPER(dv.domainid) = 'REPORT PARAMETERS' AND UPPER(dv.value) = 'DATE FORMAT' AND dv.deletion = 'N') AS report_date_format
FROM (
  SELECT DISTINCT ps.sampleguid, ps.batchnumber, ps.generic01, ps.generic04, ps.formulationid
  FROM physicalsample ps
  JOIN testresult tr ON tr.sampleguid = ps.sampleguid AND tr.deletion = 'N'
  JOIN test t ON t.testguid = tr.testguid AND UPPER(t.testgroup) = 'MICRO' AND t.deletion = 'N'
  WHERE ps.batchnumber IS NOT NULL AND ps.deletion = 'N'
) psi
JOIN testresult tr ON tr.sampleguid = psi.sampleguid AND tr.deletion = 'N'
JOIN test t ON t.testguid = tr.testguid AND UPPER(t.testgroup) = 'MICRO' AND t.deletion = 'N'
LEFT JOIN testresultrequirement trr ON trr.resultguid = tr.resultguid AND trr.valuationcode = 1 
LEFT JOIN smmethod sm ON sm.methodid = t.methodid AND sm.versionno = t.methodversionno AND sm.deletion = 'N'
LEFT JOIN physicalsample ps ON ps.sampleguid = psi.sampleguid
LEFT JOIN specificationtestresult str ON str.specificationid = ps.specificationid AND str.versionno = ps.specificationversionno AND str.testid = t.testid AND str.resultid = tr.resultid AND str.deletion = 'N'
LEFT JOIN specificationtest st ON st.specificationid = str.specificationid AND st.versionno = str.versionno AND st.testguid = str.testguid 
WHERE psi.batchnumber = $P{MICBATCHNUMBER}
 AND (($P{MICPKGLOT} IS NOT NULL AND psi.generic01 = $P{MICPKGLOT}) OR $P{MICPKGLOT} IS NULL) AND (($P{MICBLISTERLOT} IS NOT NULL AND psi.generic04 = $P{MICBLISTERLOT}) OR $P{MICBLISTERLOT} IS NULL)
 AND (st.deletion IS NULL OR (st.deletion IS NOT NULL AND st.deletion = 'N')) 
ORDER BY DECODE(st.seqno,NULL,t.seqno,NULL), DECODE(str.seqno,NULL,tr.sequencenumber,str.seqno)]]>
		</queryString>
		<field name="TESTING" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="TESTING"/>
		</field>
		<field name="SPECIFICATION_RANGE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SPECIFICATION_RANGE"/>
		</field>
		<field name="RESULT" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="RESULT"/>
		</field>
		<field name="TEST_DATE" class="java.lang.String">*
			<property name="com.jaspersoft.studio.field.label" value="NOTEBOOK_REF"/>
		</field>
		<field name="REPORT_DATE_FORMAT" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="REPORT_DATE_FORMAT"/>
		</field>
	</subDataset>
	<subDataset name="ReportParameters" uuid="c2ad9b2a-271e-4d9a-81fe-30c6c6a3136c">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ELNPROD"/>
		<parameter name="USERID" class="java.lang.String"/>
		<parameter name="DateTimeScriptlet_FOOT" class="scriptlets.DateTimeScriptlet"/>
		<parameter name="LOCAL_TIME_NAME" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[SELECT 
  DECODE(dv1.description,NULL,NULL,'Confidential to '||dv1.description) AS report_confidential,
  dv2.description AS report_date_format, 
  dv3.description AS report_date_time_format,
  (SELECT 'LMS Version: '||s.longalphavalue FROM systemvalues s WHERE s.systemtypeid = 'DRG_SYSTEM' AND s.valuecode = 'DB_BUILDINFO') AS report_lms_version,
  'Database: '||SYS_CONTEXT('USERENV', 'SERVER_HOST') AS report_server,
  (SELECT e.employeename||DECODE(e.employeefirstname,NULL,NULL,', '||e.employeefirstname)||' ('||e.empid||')' FROM employee e WHERE $X{EQUAL,e.empid,USERID}) AS report_print_by
FROM domainvalue dv1
LEFT JOIN domainvalue dv2 ON dv2.domainid = dv1.domainid AND UPPER(dv2.value) = 'DATE FORMAT' AND dv2.deletion = 'N'
LEFT JOIN domainvalue dv3 ON dv3.domainid = dv1.domainid AND UPPER(dv3.value) = 'DATE TIME FORMAT' AND dv3.deletion = 'N'
WHERE UPPER(dv1.domainid) = 'REPORT PARAMETERS' 
  AND UPPER(dv1.value) = 'COMPANY NAME' 
    AND dv1.deletion = 'N']]>
		</queryString>
		<field name="REPORT_CONFIDENTIAL" class="java.lang.String"/>
		<field name="REPORT_DATE_FORMAT" class="java.lang.String"/>
		<field name="REPORT_DATE_TIME_FORMAT" class="java.lang.String"/>
		<field name="REPORT_LMS_VERSION" class="java.lang.String"/>
		<field name="REPORT_SERVER" class="java.lang.String"/>
		<field name="REPORT_PRINT_BY" class="java.lang.String"/>
	</subDataset>
	<subDataset name="QAC" uuid="16979eed-e8c2-4bdd-ac11-1786daa22785">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ELNPROD"/>
		<parameter name="TESTGUID" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[SELECT tr.resultid, tr.requirement, tr.numericalresultraw, 
CASE
  WHEN UPPER(tr.resultvaluation) = 'OK' THEN
    'Pass'
  ELSE
    'Fail'
END AS valuation 
FROM testresult tr
WHERE $X{EQUAL,tr.testguid,TESTGUID}
AND UPPER(tr.resultid) LIKE 'QAC%' AND tr.resultvaluation IS NOT NULL
ORDER BY tr.sequencenumber]]>
		</queryString>
		<field name="RESULTID" class="java.lang.String"/>
		<field name="REQUIREMENT" class="java.lang.String"/>
		<field name="NUMERICALRESULTRAW" class="java.math.BigDecimal"/>
		<field name="VALUATION" class="java.lang.String"/>
	</subDataset>
	<scriptlet name="DateTimeScriptlet" class="scriptlets.DateTimeScriptlet"/>
	<parameter name="REQUESTGUID" class="java.util.List"/>
	<parameter name="USERID" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String"/>
	<parameter name="LOCAL_TIME_NAME" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[SELECT DISTINCT 
  trq.requestguid,
  p.tradename, 
  p.alternateid1 AS product_code, 
  DECODE(p.generic1,NULL,NULL,p.generic1||':') AS vendor_code_label, 
  p.alternateid2 AS vendor_code,
  p.generic2 AS micro_footnote,
  DECODE(f.generic5,NULL,NULL,f.generic5||':') AS vendor_product_label, f.alternateid1 AS vendor_product_code,
  f.generic1 AS serving_size, 
  f.generic2 AS shape_size, 
  f.generic3 AS description_color, 
  f.generic4 AS fill_weight_spec,
  trq.batchnumber AS mfg_lot, 
  coa_primary.generic01 AS package_lot, 
  coa_primary.generic04 AS blister_lot,
  coa_primary.generic02 AS ship_to, 
  dv.description AS ship_to_parms,
  coa_results.customer_lot,
  (SELECT COUNT(1) 
  FROM testrequest trqc
  JOIN requestsample rqc ON rqc.requestguid = trqc.requestguid AND rqc.deletion = 'N'
  JOIN physicalsample psc ON psc.sampleguid = rqc.sampleguid
  WHERE trqc.product = trq.product AND trqc.formulationid = trq.formulationid AND psc.batchnumber = ps.batchnumber AND ((ps.generic01 IS NOT NULL AND psc.generic01 = ps.generic01) OR ps.generic01 IS NULL) AND ((ps.generic04 IS NOT NULL AND psc.generic04 = ps.generic04) OR ps.generic04 IS NULL) AND trqc.status IN (1000,500,100)) AS open_requests,
  coa_results.testguid AS coa_testguid,
  coa_sign.max_circulationid AS coa_version,
  coa_results.manufacture_date,
  coa_results.expiration_date,
  coa_results.carton_lot,
  coa_results.fill_weight,
  (SELECT COUNT(1) FROM testresult tr WHERE tr.testguid = coa_results.testguid AND UPPER(tr.resultid) LIKE 'QAC%' AND tr.resultvaluation IS NOT NULL ) AS coa_qac,
  coa_results.approvedby AS coa_userid,
  e.employeefirstname||' '||e.employeename AS coa_name,
  e.employeetitle AS coa_title,
  coa_results.approvaldate AS coa_date,
  (SELECT dv.description FROM domainvalue dv WHERE UPPER(dv.domainid) = 'REPORT PARAMETERS' AND UPPER(dv.value) = 'DATE FORMAT' AND dv.deletion = 'N') AS report_date_format
FROM testrequest trq
JOIN (
  SELECT DISTINCT t.requestguid, ts.sampleguid
  FROM testsample ts
  JOIN test t ON t.testguid = ts.testguid AND t.deletion = 'N'
  WHERE ts.deletion = 'N'
  UNION
  SELECT rs.requestguid, rs.sampleguid
  FROM requestsample rs
  WHERE rs.deletion = 'N'
) rs ON rs.requestguid = trq.requestguid
JOIN physicalsample ps ON ps.sampleguid = rs.sampleguid
LEFT JOIN product p ON p.productid = trq.product AND p.deletion = 'N' 
LEFT JOIN formulation f ON f.productid = trq.product AND f.formulationid = trq.formulationid AND f.deletion = 'N' 
LEFT JOIN (
  SELECT trq1.requestguid, ps1.batchnumber, ps1.generic01, ps1.generic02, ps1.generic04, trq2.requestguid AS primary_requestguid, t.testgroup
  FROM testrequest trq1
  JOIN testrequest trq2 ON trq2.batchnumber = trq1.batchnumber AND trq2.product = trq1.product AND trq2.formulationid = trq1.formulationid
  JOIN requestsample rs1 ON rs1.requestguid = trq2.requestguid AND rs1.deletion = 'N'
  JOIN physicalsample ps1 ON ps1.sampleguid = rs1.sampleguid
  JOIN test t ON t.requestguid = trq2.requestguid AND t.testgroup = 'COA' AND t.deletion = 'N'
  WHERE trq1.batchnumber IS NOT NULL AND trq1.product IS NOT NULL AND trq1.formulationid IS NOT NULL 
) coa_primary ON coa_primary.requestguid = trq.requestguid AND coa_primary.batchnumber = ps.batchnumber AND ((ps.generic01 IS NOT NULL AND coa_primary.generic01 = ps.generic01) OR ps.generic01 IS NULL) AND ((ps.generic04 IS NOT NULL AND coa_primary.generic04 = ps.generic04) OR ps.generic04 IS NULL)  
LEFT JOIN (
  SELECT trs.requestguid, MAX(trs.circulationid) AS max_circulationid
  FROM testrequestsign trs
  JOIN test t ON t.requestguid = trs.requestguid AND t.testgroup = 'COA' AND t.deletion = 'N'
  GROUP BY trs.requestguid
) coa_sign ON coa_sign.requestguid = coa_primary.primary_requestguid
LEFT JOIN (
  SELECT 
    t.testguid,
    ps.batchnumber,
    ps.generic01,
    ps.generic04,
    trq.product,
    trq.formulationid,
    TO_CHAR(TO_DATE(SUBSTR(tr1.textresult,1,8),'YYYYMMDD'),'DD-MON-YYYY') AS manufacture_date, 
    TO_CHAR(TO_DATE(SUBSTR(tr2.textresult,1,8),'YYYYMMDD'),DECODE(tr5.textresult,NULL,'DD-MON-YYYY',tr5.textresult)) AS expiration_date,
    tr3.textresult AS carton_lot,
    tr4.numericalresulttext||' '||DECODE(tr4.numericalresulttext,NULL,NULL,tr4.unit) AS fill_weight,
    tr6.textresult AS customer_lot,
    trq.approvedby,
    trq.approvaldate
  FROM testrequest trq
    JOIN requestsample rs ON rs.requestguid = trq.requestguid AND rs.deletion = 'N'
    JOIN physicalsample ps ON ps.sampleguid = rs.sampleguid
    JOIN test t ON t.requestguid = trq.requestguid AND t.testgroup = 'COA' AND t.deletion = 'N'
    JOIN testresult tr1 on tr1.testguid = t.testguid AND tr1.resultid = 'Manufacture Date' AND tr1.resultvaluation = 'OK' AND tr1.deletion = 'N'
    JOIN testresult tr2 on tr2.testguid = t.testguid AND tr2.resultid = 'Expiration Date' AND tr2.resultvaluation = 'OK' AND tr2.deletion = 'N'
    LEFT JOIN testresult tr3 on tr3.testguid = t.testguid AND tr3.resultid = 'Carton Lot' AND tr3.resultvaluation = 'OK' AND tr3.deletion = 'N'
    LEFT JOIN testresult tr4 on tr4.testguid = t.testguid AND tr4.resultid = 'Fill Weight' AND tr4.resultvaluation = 'OK' AND tr4.deletion = 'N'
    LEFT JOIN testresult tr5 on tr5.testguid = t.testguid AND tr5.resultid = 'Expiration Date Format' AND tr5.resultvaluation = 'OK' AND tr5.deletion = 'N'
    LEFT JOIN testresult tr6 on tr6.testguid = t.testguid AND tr6.resultid = 'Customer Lot' AND tr6.resultvaluation = 'OK' AND tr6.deletion = 'N'
  WHERE trq.batchnumber IS NOT NULL AND trq.product IS NOT NULL AND trq.formulationid IS NOT NULL
  ) coa_results ON coa_results.product = trq.product AND coa_results.formulationid = trq.formulationid AND coa_results.batchnumber = ps.batchnumber AND ((ps.generic01 IS NOT NULL AND coa_results.generic01 = ps.generic01) OR ps.generic01 IS NULL) AND ((ps.generic04 IS NOT NULL AND coa_results.generic04 = ps.generic04) OR ps.generic04 IS NULL)
LEFT JOIN employee e ON e.empid = coa_results.approvedby
LEFT JOIN domainvalue dv ON dv.domainid = 'SM VQ Ship To' AND UPPER(dv.value) = UPPER(ps.generic02) AND dv.deletion = 'N'
WHERE $X{IN, trq.requestguid, REQUESTGUID}]]>
	</queryString>
	<field name="TRADENAME" class="java.lang.String"/>
	<field name="PRODUCT_CODE" class="java.lang.String"/>
	<field name="VENDOR_CODE_LABEL" class="java.lang.String"/>
	<field name="VENDOR_CODE" class="java.lang.String"/>
	<field name="VENDOR_PRODUCT_LABEL" class="java.lang.String"/>
	<field name="VENDOR_PRODUCT_CODE" class="java.lang.String"/>
	<field name="SERVING_SIZE" class="java.lang.String"/>
	<field name="SHAPE_SIZE" class="java.lang.String"/>
	<field name="DESCRIPTION_COLOR" class="java.lang.String"/>
	<field name="FILL_WEIGHT" class="java.lang.String"/>
	<field name="MFG_LOT" class="java.lang.String"/>
	<field name="PACKAGE_LOT" class="java.lang.String"/>
	<field name="SHIP_TO" class="java.lang.String"/>
	<field name="BLISTER_LOT" class="java.lang.String"/>
	<field name="MANUFACTURE_DATE" class="java.lang.String"/>
	<field name="EXPIRATION_DATE" class="java.lang.String"/>
	<field name="CARTON_LOT" class="java.lang.String"/>
	<field name="COA_VERSION" class="java.lang.String"/>
	<field name="COA_TESTGUID" class="java.lang.String"/>
	<field name="COA_QAC" class="java.math.BigDecimal"/>
	<field name="OPEN_REQUESTS" class="java.math.BigDecimal"/>
	<field name="FILL_WEIGHT_SPEC" class="java.lang.String"/>
	<field name="COA_USERID" class="java.lang.String"/>
	<field name="REQUESTGUID" class="java.lang.String"/>
	<field name="COA_NAME" class="java.lang.String"/>
	<field name="COA_TITLE" class="java.lang.String"/>
	<field name="COA_DATE" class="java.lang.String"/>
	<field name="REPORT_DATE_FORMAT" class="java.lang.String"/>
	<field name="MICRO_FOOTNOTE" class="java.lang.String"/>
	<field name="SHIP_TO_PARMS" class="java.lang.String"/>
	<field name="CUSTOMER_LOT" class="java.lang.String"/>
	<variable name="REPORT_VERSION" class="java.lang.String">
		<variableExpression><![CDATA["1.2.10"]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="CURRENT_PAGE_NUMBER" class="java.lang.Integer" resetType="Group" resetGroup="ProductGroup" incrementType="Page">
		<variableExpression><![CDATA[$V{PAGE_COUNT}]]></variableExpression>
	</variable>
	<group name="ProductGroup" isStartNewPage="true" isResetPageNumber="true" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{REQUESTGUID}]]></groupExpression>
		<groupHeader>
			<band height="129">
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="52" width="180" height="16" uuid="ec69c7ba-8695-4cc1-8a20-c9833372fd74"/>
					<box>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.0"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MFG_LOT}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="390" y="100" width="182" height="16" uuid="6c5129f3-4cbe-4ad8-8cd4-697cc0f0834c"/>
					<box>
						<topPen lineWidth="0.0"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.0"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{EXPIRATION_DATE}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="68" width="180" height="16" isRemoveLineWhenBlank="true" uuid="7bf92d34-6cf8-444d-8429-4225e98805da"/>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CARTON_LOT}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement mode="Transparent" x="302" y="52" width="88" height="16" forecolor="#000000" backcolor="#FFFFFF" uuid="4dcd13af-301e-453b-b234-cfdbb7d7d052"/>
					<box padding="0" topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="0"/>
					<textElement textAlignment="Left" verticalAlignment="Bottom" rotation="None" markup="none">
						<font fontName="Times NR LMS" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
						<paragraph lineSpacing="Single" lineSpacingSize="1.0" firstLineIndent="0" leftIndent="0" rightIndent="0" spacingBefore="0" spacingAfter="0" tabStopWidth="40"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{PACKAGE_LOT}==null?"":"Pkg Lot #:"]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="52" width="80" height="16" uuid="0c06cb83-f994-4aca-81af-c3a9cbf72362"/>
					<box leftPadding="0"/>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<text><![CDATA[Mfg Lot #: ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="100" width="180" height="16" uuid="bdda4231-1cf7-4927-bbcd-9ddc0d409e12"/>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MANUFACTURE_DATE}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="390" y="36" width="182" height="16" uuid="1532f4bf-685b-445d-90d5-3d20a81ac919">
						<printWhenExpression><![CDATA[$F{VENDOR_PRODUCT_LABEL}!=null]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{VENDOR_CODE}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="390" y="68" width="182" height="16" isRemoveLineWhenBlank="true" uuid="c3979a9d-e89c-4952-8724-fc2d34709ed9"/>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{BLISTER_LOT}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="0" y="36" width="80" height="16" isRemoveLineWhenBlank="true" uuid="75f30265-d434-45d6-b3a6-552f396abb90">
						<printWhenExpression><![CDATA[$F{VENDOR_PRODUCT_LABEL}!=null]]></printWhenExpression>
					</reportElement>
					<box leftPadding="0">
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{VENDOR_PRODUCT_LABEL}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="36" width="180" height="16" uuid="9c2f762a-8c69-4291-97e3-c7e532543010">
						<printWhenExpression><![CDATA[$F{VENDOR_PRODUCT_LABEL}!=null]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{VENDOR_PRODUCT_CODE}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="100" width="80" height="16" uuid="8e39b4d7-1d3b-4228-b852-c60dcf53daff"/>
					<box leftPadding="0"/>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<text><![CDATA[Manufacture Date:]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="390" y="52" width="182" height="16" uuid="550c8964-551b-486b-bd29-dc35c079e544"/>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{PACKAGE_LOT}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="302" y="36" width="88" height="16" uuid="1315bd56-10f8-4506-b532-c2265e2cd7ed">
						<printWhenExpression><![CDATA[$F{VENDOR_PRODUCT_LABEL}!=null]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{VENDOR_CODE_LABEL}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="302" y="100" width="88" height="16" uuid="6cf1c862-29d1-4fd1-9db0-690feb1b1835"/>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<text><![CDATA[Expiration Date: ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="0" y="68" width="80" height="16" isRemoveLineWhenBlank="true" uuid="528a8ae3-e4b4-45af-b90d-887e39d07905">
						<printWhenExpression><![CDATA[$F{CARTON_LOT}!=null]]></printWhenExpression>
					</reportElement>
					<box leftPadding="0">
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CARTON_LOT}!=null?"Carton Lot #:":""]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="302" y="68" width="88" height="16" isRemoveLineWhenBlank="true" uuid="a5a46721-de14-4f7b-9aba-f295f80Mbutton92">
						<printWhenExpression><![CDATA[$F{BLISTER_LOT}!=null]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{BLISTER_LOT}!=null?"Blister Lot #:":""]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="4" width="80" height="16" uuid="3cf8eab8-9be8-4bf5-80e0-8969c3a99eb1"/>
					<box leftPadding="0"/>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<text><![CDATA[Product Code:]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="20" width="80" height="16" uuid="90bc1d64-808c-47e0-82ab-0703937083ee"/>
					<box leftPadding="0"/>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<text><![CDATA[Product:]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="20" width="492" height="16" uuid="f3857ff6-e7d0-4a90-9442-085a7064de11"/>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{TRADENAME}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="4" width="180" height="16" uuid="27cff2ab-af59-4103-bfcf-cb4ec33755f8"/>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{PRODUCT_CODE}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="390" y="4" width="182" height="16" uuid="72f83299-0ed3-4cb2-9dc4-8458cef3f8de"/>
					<box>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.0"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{SHIP_TO}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="302" y="4" width="88" height="16" uuid="e0470f8a-6456-4d2d-9fc6-0d14cd37d7f3"/>
					<textElement textAlignment="Left" verticalAlignment="Bottom">
						<font fontName="Times NR LMS"/>
					</textElement>
					<text><![CDATA[Ship To: ]]></text>
				</staticText>
				<line>
					<reportElement x="0" y="124" width="572" height="1" forecolor="#AAAAAA" uuid="42030e33-c486-4840-af6b-4608072b2623"/>
				</line>
				<textField isBlankWhenNull="true">
					<reportElement x="0" y="84" width="80" height="16" isRemoveLineWhenBlank="true" uuid="5c009180-26e0-45b8-9f9f-26e753dd60ad">
						<printWhenExpression><![CDATA[($F{CUSTOMER_LOT}!=null&&$F{SHIP_TO_PARMS}!=null)]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{SHIP_TO_PARMS}!=null && $F{CUSTOMER_LOT}!=null)? $F{SHIP_TO_PARMS}.split(",")[0]:""]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="84" width="180" height="16" isRemoveLineWhenBlank="true" uuid="4c7b12f6-c598-41fe-aebe-8ae08de56cb8"/>
					<box>
						<bottomPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font fontName="Times NR LMS" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CUSTOMER_LOT}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="71" splitType="Stretch">
			<staticText>
				<reportElement x="1" y="1" width="571" height="70" forecolor="#CCCCCC" uuid="13d2b5d8-8d10-4241-8a49-1e8182691bf9">
					<printWhenExpression><![CDATA[($F{COA_VERSION}==null||$F{COA_TESTGUID}==null||$F{OPEN_REQUESTS}>0||$F{COA_USERID}==null)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font fontName="Times NR LMS" size="58"/>
					<paragraph lineSpacing="Single" lineSpacingSize="0.5"/>
				</textElement>
				<text><![CDATA[DRAFT]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="572" height="30" forecolor="#000000" uuid="271a8191-bf9b-4ab9-ae35-3342bfae6f73"/>
				<textElement textAlignment="Center">
					<font fontName="Times NR LMS" size="20" isBold="false" isUnderline="true"/>
				</textElement>
				<text><![CDATA[CERTIFICATE OF ANALYSIS]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="30" width="572" height="29" forecolor="#000000" uuid="4d30df4d-fd18-495c-9189-b325e385f8c5"/>
				<textElement textAlignment="Center">
					<font fontName="Times NR LMS" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[8 Henderson Drive, West Caldwell, New Jersey  07006
phone (973) 575-9200  fax (973) 276-7185]]></text>
			</staticText>
			<image scaleImage="RealSize" hAlign="Center" isLazy="true" onErrorType="Blank" evaluationTime="Report">
				<reportElement mode="Opaque" x="0" y="0" width="148" height="58" forecolor="#FFFFFF" backcolor="#FFFFFF" uuid="4f1fa229-6780-4dee-89f0-f66cc8e6f287">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<imageExpression><![CDATA["VQRequestCOA\\Vitaquest.png"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band height="129">
			<staticText>
				<reportElement x="15" y="28" width="102" height="16" uuid="f1f3d714-6c14-4ef9-a433-ffff2bbf81e7">
					<printWhenExpression><![CDATA[$F{DESCRIPTION_COLOR}!=null]]></printWhenExpression>
				</reportElement>
				<box leftPadding="2">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="9"/>
				</textElement>
				<text><![CDATA[Description/Color:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="117" y="28" width="262" height="16" isRemoveLineWhenBlank="true" uuid="0fe336fa-15af-4c95-a871-c10cac1d494d">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{DESCRIPTION_COLOR}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="15" y="44" width="102" height="16" uuid="f9e55ea5-8e8d-4e53-917a-0f2c4fc8f9f4">
					<printWhenExpression><![CDATA[$F{SHAPE_SIZE}!=null]]></printWhenExpression>
				</reportElement>
				<box leftPadding="2">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="9"/>
				</textElement>
				<text><![CDATA[Shape/Size:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="117" y="44" width="262" height="16" isRemoveLineWhenBlank="true" uuid="f8cfaf7f-3ebb-469b-bda6-1b79f384af9b">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SHAPE_SIZE}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement positionType="Float" mode="Transparent" x="8" y="100" width="557" height="23" isRemoveLineWhenBlank="true" uuid="81f9acfa-36d5-4784-a666-217b1a698be5"/>
				<subreportParameter name="PHYSBATCHNUMBER">
					<subreportParameterExpression><![CDATA[$F{MFG_LOT}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[($P{SUBREPORT_DIR}==null?"":$P{SUBREPORT_DIR}) + "Vitaquest Request COA Physical Subreport.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement x="0" y="4" width="572" height="16" uuid="59342fc3-0b35-496a-b47d-7b7d058bfa1a"/>
				<box leftPadding="5"/>
				<textElement textAlignment="Left">
					<font fontName="Times NR LMS" isBold="true"/>
				</textElement>
				<text><![CDATA[Physical Specifications:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="15" y="60" width="102" height="16" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="8bd8b4ab-33c8-437e-a0a8-9f9bbdbc6506">
					<printWhenExpression><![CDATA[$F{SHAPE_SIZE}!=null]]></printWhenExpression>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="0">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Times NR LMS" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					<paragraph lineSpacing="Single" lineSpacingSize="1.0" firstLineIndent="0" leftIndent="0" rightIndent="0" spacingBefore="0" spacingAfter="0" tabStopWidth="40"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{FILL_WEIGHT_SPEC}==null?null:"Fill Weight:"]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="117" y="60" width="262" height="16" isRemoveLineWhenBlank="true" uuid="d1c43682-a933-4228-9c26-20fc8f799e36">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{FILL_WEIGHT_SPEC}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement mode="Transparent" x="15" y="76" width="102" height="16" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="d40f8b10-1cc7-4c26-bd0c-e6aec1cf40c2">
					<printWhenExpression><![CDATA[$F{SHAPE_SIZE}!=null]]></printWhenExpression>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="0">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Times NR LMS" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					<paragraph lineSpacing="Single" lineSpacingSize="1.0" firstLineIndent="0" leftIndent="0" rightIndent="0" spacingBefore="0" spacingAfter="0" tabStopWidth="40"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{FILL_WEIGHT_SPEC}==null?null:"Fill Weight Result:"]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="117" y="76" width="262" height="16" isRemoveLineWhenBlank="true" uuid="6debf5b9-408d-4ae7-b308-11b0fafc8cff">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5">
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					<rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{FILL_WEIGHT}]]></textFieldExpression>
			</textField>
		</band>
		<band height="55">
			<printWhenExpression><![CDATA[$F{COA_QAC}>0]]></printWhenExpression>
			<componentElement>
				<reportElement mode="Transparent" x="0" y="0" width="396" height="48" isRemoveLineWhenBlank="true" backcolor="#FFFFFF" uuid="7e361fdb-a1fa-432d-8e6c-ef900dde395f">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="Blank">
					<datasetRun subDataset="QAC" uuid="18f5675e-65eb-487a-809d-7ba3c156f1c3">
						<datasetParameter name="TESTGUID">
							<datasetParameterExpression><![CDATA[$F{COA_TESTGUID}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="394" uuid="a4a87efe-e40b-4165-a6a8-232567308698">
						<property name="local_mesure_unitheight" value="pixel"/>
						<jr:tableHeader height="18">
							<staticText>
								<reportElement x="0" y="0" width="394" height="16" uuid="8150e07e-ca14-4d08-bade-a646b5e9020d"/>
								<box leftPadding="5"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Times NR LMS" isBold="true"/>
								</textElement>
								<text><![CDATA[QAC Visual Inspection:]]></text>
							</staticText>
						</jr:tableHeader>
						<jr:column width="120" uuid="8e5baab3-06a1-495a-af5a-394c307e18e3">
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="120" height="16" uuid="e87c2d39-5a92-435c-96ff-3591bf22bb25"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Defect Classification]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="16">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="120" height="16" uuid="95c2d000-8e41-4268-8966-d55eed6a3b2c"/>
									<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Left" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{RESULTID}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="104" uuid="7acf43d1-c72f-4fe7-94ae-d5df363d4f0d">
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="104" height="16" uuid="2cbdf1fe-1e55-41ba-ab14-a2b9f27efcac"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[AQL]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="16">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="104" height="16" uuid="50984395-5281-4aa2-bb23-1a96cfd0caef"/>
									<box leftPadding="5"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{REQUIREMENT}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="95" uuid="a1ee0e12-0746-44ff-8196-bdfdb73db9bc">
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="95" height="16" uuid="b5bf8d4f-f404-40b9-932e-a2ac3a7530ca"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Result]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="16">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="95" height="16" uuid="72a285b8-7aa4-43b4-a422-ce7cc3f0f6a1"/>
									<box leftPadding="5"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{NUMERICALRESULTRAW}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="75" uuid="3ec211ed-1df1-48c7-b46b-5cfd647298c0">
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="75" height="16" uuid="f8bd0131-51f9-48c4-8bc3-8ce41b285c58"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Disposition]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="16">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="75" height="16" uuid="ecbc9ce8-23c5-44fe-b074-f792b9855e29"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{VALUATION}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
		</band>
		<band height="64">
			<componentElement>
				<reportElement positionType="Float" x="0" y="22" width="572" height="37" uuid="b6fb6dc5-763a-4f02-8758-ecc3d6179fe7">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="Blank">
					<datasetRun subDataset="Ingredient" uuid="cc5026f8-6280-468f-868a-5729a9808e29">
						<datasetParameter name="INGBATCHNUMBER">
							<datasetParameterExpression><![CDATA[$F{MFG_LOT}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="LOCAL_TIME_NAME">
							<datasetParameterExpression><![CDATA[$P{LOCAL_TIME_NAME}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="DateTimeScriptlet_ING">
							<datasetParameterExpression><![CDATA[$P{DateTimeScriptlet_SCRIPTLET}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="572" uuid="2a63de87-bb5d-448b-a250-d2368b261083">
						<property name="local_mesure_unitheight" value="pixel"/>
						<jr:groupHeader groupName="INGREDIENT_GROUP">
							<jr:cell height="0">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="184" height="0" isRemoveLineWhenBlank="true" uuid="354fa1d9-695b-4f6c-bc2d-30733089993b">
										<property name="local_mesure_unitheight" value="pixel"/>
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="5" leftPadding="2"/>
									<textElement textAlignment="Left" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="8" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{INGREDIENT_GROUP}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:column width="172" uuid="7948729f-9e5a-4919-9207-f2284b3a2d9c">
							<property name="local_mesure_unitheight" value="pixel"/>
							<jr:groupHeader groupName="INGREDIENT_GROUP">
								<jr:cell style="Table 1_CH" height="2"/>
							</jr:groupHeader>
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement mode="Transparent" x="0" y="0" width="172" height="16" uuid="2d717863-5df6-4d0c-9de3-cc5384c22adc"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Ingredient]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="18">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="8" y="0" width="164" height="18" uuid="ab1fcd09-e4c0-47bd-bbc4-a7e1d7d9fb95">
										<property name="local_mesure_unitheight" value="pixel"/>
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Left" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{INGREDIENT}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="74" uuid="ba237cfa-9f1d-4669-90fa-e9009f42fe92">
							<jr:groupHeader groupName="INGREDIENT_GROUP">
								<jr:cell style="Table 1_CH" height="2"/>
							</jr:groupHeader>
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="74" height="16" uuid="8dbc1d05-be18-4b38-bb44-f23ac4a2fa3d"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Label Claim]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="18">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="74" height="18" uuid="af580d64-e15a-432e-b547-29e540249d8c">
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{LABEL_CLAIM}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="72" uuid="93389ea4-8734-47dd-997b-2d35796c0e98">
							<jr:groupHeader groupName="INGREDIENT_GROUP">
								<jr:cell style="Table 1_CH" height="2"/>
							</jr:groupHeader>
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="72" height="16" uuid="723c8886-99ff-494c-835b-20cddc914aa6"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Specification Range]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="18">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="72" height="18" uuid="5add1dd1-fffe-4005-bdb8-4e857cea5d11">
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{SPECIFICATION_RANGE}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="64" uuid="91edd108-e9b7-4c23-af45-a4e348b4997a">
							<jr:groupHeader groupName="INGREDIENT_GROUP">
								<jr:cell style="Table 1_CH" height="2"/>
							</jr:groupHeader>
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="64" height="16" uuid="b00c5aeb-67d2-4d40-9982-55776abb1a6c"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Result]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="18">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement style="IngPendingResult" positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="64" height="18" uuid="9e9f7f55-2e04-4bf8-b617-583a8b5c93e7">
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{RESULT}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="50" uuid="82302675-53f2-4685-be9f-8280c044dbd9">
							<jr:groupHeader groupName="INGREDIENT_GROUP">
								<jr:cell style="Table 1_CH" height="2"/>
							</jr:groupHeader>
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="50" height="16" uuid="7d391afb-2a54-4964-ab86-a68fef344dce"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Test Date]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="18">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="50" height="18" uuid="88560e0a-4d94-4769-9b74-dd1fd44b5b8c">
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[($F{TEST_DATE} == null) ? null :$P{DateTimeScriptlet_ING}.getLocalTime(
$F{TEST_DATE}, $F{REPORT_DATE_FORMAT}, $P{LOCAL_TIME_NAME}, $P{REPORT_LOCALE})]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="72" uuid="6834968d-07b7-4535-b188-e1fce69fe7c8">
							<property name="local_mesure_unitwidth" value="pixel"/>
							<jr:groupHeader groupName="INGREDIENT_GROUP">
								<jr:cell style="Table 1_CH" height="2"/>
							</jr:groupHeader>
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="72" height="16" uuid="dcca5984-12b5-49ff-aaaa-c873b9c14e89"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Method]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="18">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="72" height="18" uuid="68e98bdf-b334-4241-87b3-9f723656886c">
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{METHOD}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="68" uuid="949ae0b8-8ede-42d1-86ac-983b1066f305">
							<jr:groupHeader groupName="INGREDIENT_GROUP">
								<jr:cell style="Table 1_CH" height="2"/>
							</jr:groupHeader>
							<jr:columnHeader style="Table 1_TH" height="16">
								<staticText>
									<reportElement x="0" y="0" width="68" height="16" uuid="d1b72829-0b66-4c1c-bafc-4a8314744a52"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7" isBold="true"/>
									</textElement>
									<text><![CDATA[Notebook Reference]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="Table 1_TD" height="18">
								<textField textAdjust="StretchHeight" isBlankWhenNull="true">
									<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="68" height="18" uuid="91fc5699-878a-4ebf-ae5a-f05b4c89b5d5">
										<property name="com.jaspersoft.studio.unit.height" value="px"/>
									</reportElement>
									<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Times NR LMS" size="7"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{NOTEBOOK_REF}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="0" width="152" height="16" isRemoveLineWhenBlank="true" uuid="f1ed393a-fb39-4ee0-a60b-3b7c20acb9bb"/>
				<box>
					<bottomPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times NR LMS" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SERVING_SIZE}+":"]]></textFieldExpression>
			</textField>
		</band>
		<band height="42" splitType="Prevent">
			<componentElement>
				<reportElement positionType="Float" x="0" y="6" width="572" height="32" uuid="320d427b-80aa-4c8e-9a53-1c17b3d74e84"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="Blank">
					<datasetRun subDataset="Micro" uuid="5828c3f5-c70d-482b-a8a0-432f8ccea371">
						<datasetParameter name="MICBATCHNUMBER">
							<datasetParameterExpression><![CDATA[$F{MFG_LOT}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="LOCAL_TIME_NAME">
							<datasetParameterExpression><![CDATA[$P{LOCAL_TIME_NAME}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="DateTimeScriptlet_MIC">
							<datasetParameterExpression><![CDATA[$P{DateTimeScriptlet_SCRIPTLET}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="MICRO_FOOTNOTE">
							<datasetParameterExpression><![CDATA[$F{MICRO_FOOTNOTE}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="MICPKGLOT">
							<datasetParameterExpression><![CDATA[$F{PACKAGE_LOT}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="MICBLISTERLOT">
							<datasetParameterExpression><![CDATA[$F{BLISTER_LOT}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="120" uuid="013347b9-dc07-4ee2-8c98-5e950a4faa71">
						<jr:columnHeader style="Table 1_TH" height="16">
							<textField>
								<reportElement mode="Transparent" x="0" y="0" width="120" height="16" forecolor="#000000" backcolor="#FFFFFF" uuid="44718c78-4ea2-4125-9427-3716d9ed991d"/>
								<box padding="0" topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="0"/>
								<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
									<font fontName="Times NR LMS" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
									<paragraph lineSpacing="Single" lineSpacingSize="1.0" firstLineIndent="0" leftIndent="0" rightIndent="0" spacingBefore="0" spacingAfter="0" tabStopWidth="40"/>
								</textElement>
								<textFieldExpression><![CDATA[$P{MICRO_FOOTNOTE}==null?"Microbial Testing": "** Microbial Testing"]]></textFieldExpression>
							</textField>
						</jr:columnHeader>
						<jr:detailCell style="Table 1_TD" height="16">
							<textField textAdjust="StretchHeight">
								<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="120" height="16" uuid="e23e1843-d0bf-4df0-b3ea-438c603cf9df"/>
								<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="2"/>
								<textElement textAlignment="Left" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{TESTING}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="104" uuid="b0ea6d5c-4358-4d69-9de1-95b6703f4f9f">
						<jr:columnHeader style="Table 1_TH" height="16">
							<staticText>
								<reportElement x="0" y="0" width="104" height="16" uuid="30489631-d053-4b74-8d51-cb9fa0f21843"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Specification Range]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table 1_TD" height="16">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="104" height="16" uuid="fe161e58-0684-456a-ae8a-467e5184023d"/>
								<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="2"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{SPECIFICATION_RANGE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="95" uuid="8ec603d4-ee86-4ef8-adc6-365757b2eb92">
						<jr:columnHeader style="Table 1_TH" height="16">
							<staticText>
								<reportElement x="0" y="0" width="95" height="16" uuid="97388dfb-d499-4bb5-a699-ff4908bd8fd4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Result]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table 1_TD" height="16">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement style="MicPendingResult" positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="95" height="16" uuid="450355bb-2b86-4963-951b-05623aaed427"/>
								<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="2"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{RESULT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="75" uuid="3d878184-3f1b-46b8-af70-e138b3db3bb6">
						<jr:columnHeader style="Table 1_TH" height="16">
							<staticText>
								<reportElement x="0" y="0" width="75" height="16" uuid="7a079c71-d103-4403-91c5-74476c78d58c"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Test Date]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table 1_TD" height="16">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="75" height="16" uuid="c843f729-0b35-4820-9ac6-ea3303fb8e0b"/>
								<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7"/>
								</textElement>
								<textFieldExpression><![CDATA[($F{TEST_DATE} == null) ? null :$P{DateTimeScriptlet_MIC}.getLocalTime(
$F{TEST_DATE}, $F{REPORT_DATE_FORMAT}, $P{LOCAL_TIME_NAME}, $P{REPORT_LOCALE})]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="95" uuid="5bc741cb-dee8-41ea-b54f-1b84469436e9">
						<jr:columnHeader style="Table 1_TH" height="16">
							<staticText>
								<reportElement x="0" y="0" width="95" height="16" uuid="f39536e3-9e0f-4509-bdf6-d3ddcd20de87"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Method]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table 1_TD" height="16">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="95" height="16" uuid="e5bfae82-de95-4638-9199-aa8f7de9c79e"/>
								<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{METHOD}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="80" uuid="13e2d0b3-d46a-44b3-a6bf-b5075a4d528a">
						<jr:columnHeader style="Table 1_TH" height="16">
							<staticText>
								<reportElement x="0" y="0" width="80" height="16" uuid="d3693acc-e281-4de9-aaff-0c89a0329b05"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Notebook Reference]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table 1_TD" height="16">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="80" height="16" uuid="f64097e3-930f-453f-8ac3-528b2bbb84bd"/>
								<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Times NR LMS" size="7"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{NOTEBOOK_REF}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
		<band height="15">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{MICRO_FOOTNOTE}!=null]]></printWhenExpression>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="0" width="572" height="10" isRemoveLineWhenBlank="true" uuid="7611b268-86ec-497f-86a9-60714021c2e7">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{MICRO_FOOTNOTE}==null?null:"** " + $F{MICRO_FOOTNOTE}]]></textFieldExpression>
			</textField>
		</band>
		<band height="35">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement positionType="Float" mode="Transparent" x="0" y="10" width="572" height="20" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="55e30380-c71c-4e7b-be36-75462dcdebd6">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box padding="0" topPadding="0" leftPadding="5" bottomPadding="0" rightPadding="0">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Times NR LMS" size="6" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					<paragraph lineSpacing="Single" lineSpacingSize="1.0" firstLineIndent="0" leftIndent="0" rightIndent="0" spacingBefore="0" spacingAfter="0" tabStopWidth="40"/>
				</textElement>
				<text><![CDATA["The product specified above has been manufactured, packaged, tested and approved in accordance with the good manufacturing practices and VitaQuest approved standard operating procedures.  Deviations from procedures have been reviewed, investigated, documented and approved by VitaQuest’s Quality Assurance Department.  The lot has met all the predetermined specifications and is released for shipment."]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="5" width="572" height="1" forecolor="#AAAAAA" uuid="0d306fa7-eb5f-403a-a1bd-bcb2405745e0">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
		</band>
	</detail>
	<pageFooter>
		<band height="77" splitType="Stretch">
			<staticText>
				<reportElement x="-30" y="36" width="571" height="36" isPrintWhenDetailOverflows="true" forecolor="#CCCCCC" uuid="cb88b48a-3fad-4b18-b689-71f7ea530d4c">
					<printWhenExpression><![CDATA[($F{COA_VERSION}==null||$F{COA_TESTGUID}==null||$F{OPEN_REQUESTS}>0||$F{COA_USERID}==null)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font fontName="Times NR LMS" size="30"/>
					<paragraph lineSpacing="Single" lineSpacingSize="0.5"/>
				</textElement>
				<text><![CDATA[DRAFT   DRAFT   DRAFT   DRAFT   DRAFT   DRAFT]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="2" width="572" height="1" forecolor="#AAAAAA" uuid="89256627-f640-4b43-929b-c8a767d87afa"/>
			</line>
			<textField evaluationTime="Group" evaluationGroup="ProductGroup">
				<reportElement x="560" y="6" width="12" height="14" uuid="9a0ee1c1-77f6-498c-acf4-733d4c53da62">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="1"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Page">
				<reportElement x="494" y="6" width="66" height="14" uuid="9d1054ef-c72e-47e6-9033-7d30b09dedc9"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Page: "+$V{PAGE_NUMBER}+" of "]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="6" width="100" height="14" uuid="510d0d53-90d5-4ebb-ad93-8846a0e04f78"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{COA_VERSION}==null||$F{COA_TESTGUID}==null||$F{OPEN_REQUESTS}>0)?"Version: DRAFT":"Version: "+$F{COA_VERSION}]]></textFieldExpression>
			</textField>
			<image scaleImage="RealSize" onErrorType="Blank" evaluationTime="Report">
				<reportElement mode="Opaque" x="206" y="9" width="160" height="41" uuid="f6d21295-5789-4d05-9043-e762c28c1afa">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<printWhenExpression><![CDATA[($F{COA_VERSION}!=null&&$F{COA_TESTGUID}!=null&&$F{OPEN_REQUESTS}==0&&$F{COA_USERID}!=null)]]></printWhenExpression>
				</reportElement>
				<imageExpression><![CDATA[($P{SUBREPORT_DIR}==null?"":$P{SUBREPORT_DIR})+$F{COA_USERID}+".jpg"]]></imageExpression>
			</image>
			<line>
				<reportElement x="206" y="36" width="160" height="1" forecolor="#000000" uuid="8a1ce466-9793-4fc4-97dc-53a7c982da7c">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<printWhenExpression><![CDATA[($F{COA_VERSION}!=null&&$F{COA_TESTGUID}!=null&&$F{OPEN_REQUESTS}==0&&$F{COA_USERID}!=null)]]></printWhenExpression>
				</reportElement>
			</line>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="372" y="21" width="122" height="14" uuid="6b1f8f29-f343-445d-a60b-dbbabb922d63">
					<printWhenExpression><![CDATA[($F{COA_VERSION}!=null&&$F{COA_TESTGUID}!=null&&$F{OPEN_REQUESTS}==0&&$F{COA_USERID}!=null)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{COA_DATE} == null) ? null :"Date Approved: "+$P{DateTimeScriptlet_SCRIPTLET}.getLocalTime(
$F{COA_DATE}, $F{REPORT_DATE_FORMAT}, $P{LOCAL_TIME_NAME}, $P{REPORT_LOCALE})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="72" y="21" width="132" height="18" uuid="db9bd1da-bbc2-49e0-8d3d-464ead037ec5">
					<printWhenExpression><![CDATA[($F{COA_VERSION}!=null&&$F{COA_TESTGUID}!=null&&$F{OPEN_REQUESTS}==0&&$F{COA_USERID}!=null)]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[QUALITY CONTROL APPROVAL:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="176" y="37" width="214" height="14" uuid="c84891d8-4240-431b-b708-4493c070e7c3">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[($F{COA_VERSION}!=null&&$F{COA_TESTGUID}!=null&&$F{OPEN_REQUESTS}==0&&$F{COA_USERID}!=null)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{COA_NAME}+(($F{COA_TITLE}!=null)?", "+$F{COA_TITLE}:"")]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="54" width="572" height="15" uuid="8e575d83-0121-426e-8e41-6edbe802d1d5">
					<printWhenExpression><![CDATA[($F{COA_VERSION}!="DRAFT"&&$F{COA_VERSION}!=null&&$F{COA_TESTGUID}!=null&&$F{OPEN_REQUESTS}==0&&$F{COA_USERID}!=null)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="7" isBold="true" isItalic="true"/>
				</textElement>
				<text><![CDATA[Note: this document is signed electronically by LIMS. Original signature is on file.]]></text>
			</staticText>
			<textField>
				<reportElement x="471" y="63" width="100" height="14" uuid="2f0bddc9-4c7a-48e8-96d1-f0173e34e79c"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Times NR LMS" size="5"/>
				</textElement>
				<textFieldExpression><![CDATA["Report build: "+$V{REPORT_VERSION}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<noData>
		<band height="52">
			<printWhenExpression><![CDATA[$V{REPORT_COUNT}==0]]></printWhenExpression>
			<staticText>
				<reportElement x="0" y="20" width="572" height="15" uuid="5e65f462-4b4d-4d2f-b42d-aadfe8c2ea35"/>
				<textElement textAlignment="Center">
					<font fontName="Times NR LMS" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Unable to generate COA for the selected request.]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
